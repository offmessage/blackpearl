

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>The Rainbow &mdash; Black Pearl 1.0 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="Black Pearl 1.0 documentation" href="../../index.html"/>
        <link rel="up" title="Flotilla Hardware Outputs" href="index.html"/>
        <link rel="next" title="The Number display" href="number.html"/>
        <link rel="prev" title="The Motor" href="motor.html"/> 

  
  <script src="../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../index.html" class="icon icon-home"> Black Pearl
          

          
          </a>

          
            
            
              <div class="version">
                1.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../quickstart.html">Quick start</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installation.html">Detailed installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../gettingstarted.html">Getting started with blackpearl</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../messages.html">Messages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../examples/index.html">Examples</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Flotilla hardware things</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../flotilla.html">The Flotilla itself</a></li>
<li class="toctree-l2"><a class="reference internal" href="../inputs/index.html">Flotilla Hardware Inputs</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">Flotilla Hardware Outputs</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="motor.html">The Motor</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">The Rainbow</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#how-it-works">How it works</a></li>
<li class="toctree-l4"><a class="reference internal" href="#supported-methods">Supported methods</a></li>
<li class="toctree-l4"><a class="reference internal" href="#example-snippets">Example snippets</a></li>
<li class="toctree-l4"><a class="reference internal" href="#complete-examples">Complete examples</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="number.html">The Number display</a></li>
<li class="toctree-l3"><a class="reference internal" href="matrix.html">The Matrix</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../software/index.html"><strong>blackpearl</strong>&#8216;s software things</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../blackpearl/index.html"><strong>blackpearl</strong>&#8216;s internals</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../usingidle.html">Using IDLE with <strong>blackpearl</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../../troubleshooting.html">Troubleshooting your installation</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../index.html">Black Pearl</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../index.html">Docs</a> &raquo;</li>
      
          <li><a href="../index.html">Flotilla hardware things</a> &raquo;</li>
      
          <li><a href="index.html">Flotilla Hardware Outputs</a> &raquo;</li>
      
    <li>The Rainbow</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../_sources/hardware/outputs/rainbow.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="the-rainbow">
<span id="rainbow-hardware"></span><h1>The Rainbow<a class="headerlink" href="#the-rainbow" title="Permalink to this headline">¶</a></h1>
<div class="section" id="how-it-works">
<span id="rainbow-hardware-works"></span><h2>How it works<a class="headerlink" href="#how-it-works" title="Permalink to this headline">¶</a></h2>
<p>The rainbow has 5 LEDs (numbered 0 to 4). Each one can be
individually set to an RGB value, where each of red, green and blue is between
0 and 255. This module provides a convenience <code class="docutils literal"><span class="pre">.set_all(r,</span> <span class="pre">g,</span> <span class="pre">b)</span></code> method that
allows you to set all 5 LEDs at once, or you can set each individually using
the <code class="docutils literal"><span class="pre">.set_pixel(posn,</span> <span class="pre">r,</span> <span class="pre">g,</span> <span class="pre">b)</span></code> where <code class="docutils literal"><span class="pre">posn</span></code> is in the range 0 to 4.</p>
<p>The LED numbered 0 is the one closest to the USB port, while 4 is the furthest.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Because you can set each LED individually you have to call the
<code class="docutils literal"><span class="pre">.update()</span></code> method for your changes to take effect. This means that
you can spend some time crafting your values before sending them all
off at once rather than have them change one at a time as you build
stuff up.</p>
</div>
</div>
<div class="section" id="supported-methods">
<span id="rainbow-hardware-methods"></span><h2>Supported methods<a class="headerlink" href="#supported-methods" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id=".set_all">
<code class="descclassname">.</code><code class="descname">set_all</code><span class="sig-paren">(</span><em>r</em>, <em>g</em>, <em>b</em><span class="sig-paren">)</span><a class="headerlink" href="#.set_all" title="Permalink to this definition">¶</a></dt>
<dd><p>This method sets all 5 LEDs to the same rgb value. Remember to call
<code class="docutils literal"><span class="pre">.update()</span></code> after you&#8217;ve called this method.</p>
</dd></dl>

<dl class="function">
<dt id=".set_pixel">
<code class="descclassname">.</code><code class="descname">set_pixel</code><span class="sig-paren">(</span><em>position</em>, <em>r</em>, <em>g</em>, <em>b</em><span class="sig-paren">)</span><a class="headerlink" href="#.set_pixel" title="Permalink to this definition">¶</a></dt>
<dd><p>This method sets an individual LED at the position specified to the rgb
value provided. Remember that computers count from zero, so <code class="docutils literal"><span class="pre">position</span></code> must
be in the range 0 to 4. Once you&#8217;ve set the values of all of the LEDs as you
require remember to call <code class="docutils literal"><span class="pre">.update()</span></code>.</p>
</dd></dl>

<dl class="function">
<dt id=".update">
<code class="descclassname">.</code><code class="descname">update</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#.update" title="Permalink to this definition">¶</a></dt>
<dd><p>Sends the current values to the rainbow.</p>
</dd></dl>

<dl class="function">
<dt id=".reset">
<code class="descclassname">.</code><code class="descname">reset</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#.reset" title="Permalink to this definition">¶</a></dt>
<dd><p>Turn off all the LEDs.</p>
</dd></dl>

<dl class="function">
<dt id="Rainbow.hue">
<code class="descclassname">Rainbow.</code><code class="descname">hue</code><span class="sig-paren">(</span><em>value</em><span class="sig-paren">)</span><a class="headerlink" href="#Rainbow.hue" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal"><span class="pre">value</span></code> must be between 0 and 1. Converts the value to an rgb value. (If
I&#8217;m honest I simply copied the maths from the rockpool Javascript library. I
don&#8217;t actually know what this does, other than both zero and one are pure
red, and all the numbers between create a different colour). This method
returns an list of the form <code class="docutils literal"><span class="pre">[r,</span> <span class="pre">g,</span> <span class="pre">b,]</span></code>. It <em>does not</em> act on the rainbow
directly (in other words, you need to pass the return value from this method
to <code class="docutils literal"><span class="pre">.set_all()</span></code> or <code class="docutils literal"><span class="pre">.set_pixel()</span></code>).</p>
</dd></dl>

</div>
<div class="section" id="example-snippets">
<span id="rainbow-hardware-snippets"></span><h2>Example snippets<a class="headerlink" href="#example-snippets" title="Permalink to this headline">¶</a></h2>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Each of these code snippets assumes you have an instance of the
<code class="docutils literal"><span class="pre">Rainbow</span></code> class called <code class="docutils literal"><span class="pre">rainbow</span></code>. In your modules this would be
achieved by listing <code class="docutils literal"><span class="pre">Rainbow</span></code> in your <code class="docutils literal"><span class="pre">hardware_required</span></code> and then
setting <code class="docutils literal"><span class="pre">rainbow</span> <span class="pre">=</span> <span class="pre">self.rainbow</span></code> in your <code class="docutils literal"><span class="pre">.receive()</span></code> method.</p>
</div>
<p>To set all 5 LEDs to red you would use the following code:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">rainbow</span><span class="o">.</span><span class="n">set_all</span><span class="p">(</span><span class="mi">255</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="n">rainbow</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>
</pre></div>
</div>
<p>To set the first LED red, the second green, the third blue, the fourth red and
the fifth green you would use the following code:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">rainbow</span><span class="o">.</span><span class="n">set_pixel</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="n">rainbow</span><span class="o">.</span><span class="n">set_pixel</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="n">rainbow</span><span class="o">.</span><span class="n">set_pixel</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">255</span><span class="p">)</span>
<span class="n">rainbow</span><span class="o">.</span><span class="n">set_pixel</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="n">rainbow</span><span class="o">.</span><span class="n">set_pixel</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="n">rainbow</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="section" id="complete-examples">
<span id="rainbow-hardware-examples"></span><h2>Complete examples<a class="headerlink" href="#complete-examples" title="Permalink to this headline">¶</a></h2>
<p>The following examples use the Rainbow:</p>
<blockquote>
<div><ul class="simple">
<li><a class="reference internal" href="../../gettingstarted.html"><span class="doc">Getting started with blackpearl</span></a></li>
<li><a class="reference internal" href="../../examples/thermometer.html"><span class="doc">Making a thermometer</span></a></li>
<li><a class="reference internal" href="../../examples/colourmatcher.html"><span class="doc">Matching colours</span></a></li>
</ul>
</div></blockquote>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="number.html" class="btn btn-neutral float-right" title="The Number display" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="motor.html" class="btn btn-neutral" title="The Motor" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016, Andy Theyers.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'1.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>